{
	"info": {
		"_postman_id": "138a3d57-b68d-4f09-bbdf-37cf2454cf43",
		"name": "Van Breda",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "11326822"
	},
	"item": [
		{
			"name": "Qwac test",
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "https://xs2a-sandbox.bankvanbreda.be/berlingroup/actuator/info",
					"protocol": "https",
					"host": [
						"xs2a-sandbox",
						"bankvanbreda",
						"be"
					],
					"path": [
						"berlingroup",
						"actuator",
						"info"
					]
				}
			},
			"response": []
		},
		{
			"name": "/consents",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json",
						"type": "text"
					},
					{
						"key": "TPP-Redirect-URI",
						"value": "yolt.com",
						"type": "text"
					},
					{
						"key": "X-REquest-ID",
						"value": "{{$guid}}",
						"type": "text"
					},
					{
						"key": "PSU-IP-Address",
						"value": "{{$randomIP}}",
						"type": "text"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\r\n    \"access\": {\r\n      \"allPsd2\": \"allAccounts\"\r\n   },\r\n    \"recurringIndicator\": true,\r\n    \"frequencyPerDay\": 4,\r\n    \"combinedServiceIndicator\": false,\r\n    \"validUntil\": \"2030-12-12\"\r\n}"
				},
				"url": {
					"raw": "https://xs2a-sandbox.bankvanbreda.be/berlingroup/v1/consents",
					"protocol": "https",
					"host": [
						"xs2a-sandbox",
						"bankvanbreda",
						"be"
					],
					"path": [
						"berlingroup",
						"v1",
						"consents"
					]
				}
			},
			"response": []
		},
		{
			"name": "/well-known",
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "https://xs2a-sandbox.bankvanbreda.be/berlingroup/.well-known/openid-configuration?authorizationId=11111111-1111-1111-1111-111111111111",
					"protocol": "https",
					"host": [
						"xs2a-sandbox",
						"bankvanbreda",
						"be"
					],
					"path": [
						"berlingroup",
						".well-known",
						"openid-configuration"
					],
					"query": [
						{
							"key": "authorizationId",
							"value": "11111111-1111-1111-1111-111111111111"
						}
					]
				}
			},
			"response": []
		},
		{
			"name": "login url (browser)",
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "https://xs2a-sandbox-web.bankvanbreda.be/public/berlingroup/authorize/11111111-1111-1111-1111-111111111111?scope=AIS:VALID_CONSENT_ID&client_id=VALID_CLIENT_ID&state=test&redirect_uri=https://redirect.com&code_challenge=E9Melhoa2OwvFrEMTJguCHaoeK1t8URWbuGJSstw-cM&response_type=code&code_challenge_method=S256",
					"protocol": "https",
					"host": [
						"xs2a-sandbox-web",
						"bankvanbreda",
						"be"
					],
					"path": [
						"public",
						"berlingroup",
						"authorize",
						"11111111-1111-1111-1111-111111111111"
					],
					"query": [
						{
							"key": "scope",
							"value": "AIS:VALID_CONSENT_ID"
						},
						{
							"key": "client_id",
							"value": "VALID_CLIENT_ID"
						},
						{
							"key": "state",
							"value": "test"
						},
						{
							"key": "redirect_uri",
							"value": "https://redirect.com"
						},
						{
							"key": "code_challenge",
							"value": "E9Melhoa2OwvFrEMTJguCHaoeK1t8URWbuGJSstw-cM"
						},
						{
							"key": "response_type",
							"value": "code"
						},
						{
							"key": "code_challenge_method",
							"value": "S256"
						}
					]
				}
			},
			"response": []
		},
		{
			"name": "code->access_token",
			"request": {
				"method": "POST",
				"header": [
					{
						"warning": "This is a duplicate header and will be overridden by the Content-Type header generated by Postman.",
						"key": "Content-Type",
						"value": "application/x-www-form-urlencoded",
						"type": "text"
					}
				],
				"body": {
					"mode": "urlencoded",
					"urlencoded": [
						{
							"key": "grant_type",
							"value": "authorization_code",
							"type": "text"
						},
						{
							"key": "code",
							"value": "AIS_VALID_CODE",
							"description": "Valid code to get an access token for the consent VALID_CONSENT_ID",
							"type": "text"
						},
						{
							"key": "code",
							"value": "AIS_VALID_CODE_TRANSACTION_90D_KO",
							"description": "Valid code to get an access token for the consent CONSENT_ID_TRANSACTION_90D_KO. This consent is to used in order to get the error of the access right to transactions older than 90 days\n",
							"type": "text",
							"disabled": true
						},
						{
							"key": "client_id",
							"value": "VALID_CLIENT_ID",
							"type": "text"
						},
						{
							"key": "code_verifier",
							"value": "\"Any value\"",
							"type": "text"
						},
						{
							"key": "redirect_uri",
							"value": "https://redirect.com",
							"type": "text"
						}
					]
				},
				"url": {
					"raw": "https://xs2a-sandbox.bankvanbreda.be/berlingroup/v1/token",
					"protocol": "https",
					"host": [
						"xs2a-sandbox",
						"bankvanbreda",
						"be"
					],
					"path": [
						"berlingroup",
						"v1",
						"token"
					]
				}
			},
			"response": []
		},
		{
			"name": "refresh_token->access_token",
			"request": {
				"method": "POST",
				"header": [
					{
						"warning": "This is a duplicate header and will be overridden by the Content-Type header generated by Postman.",
						"key": "Content-Type",
						"value": "application/x-www-form-urlencoded",
						"type": "text"
					}
				],
				"body": {
					"mode": "urlencoded",
					"urlencoded": [
						{
							"key": "grant_type",
							"value": "refresh_token",
							"type": "text"
						},
						{
							"key": "refresh_token",
							"value": "7d606ffad0754d06b92457abf0a78fb0770aa3db980846b3a22cf4b4121c4e3d3acd7e48e7764d75b8233d2a7164b0bf",
							"type": "text"
						},
						{
							"key": "client_id",
							"value": "VALID_CLIENT_ID",
							"type": "text"
						}
					]
				},
				"url": {
					"raw": "https://xs2a-sandbox.bankvanbreda.be/berlingroup/v1/token",
					"protocol": "https",
					"host": [
						"xs2a-sandbox",
						"bankvanbreda",
						"be"
					],
					"path": [
						"berlingroup",
						"v1",
						"token"
					]
				}
			},
			"response": []
		},
		{
			"name": "/accounts",
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "cd3fc7f7ccd54a3db48e04dd00ed170bd85fb95a8d304589bdcce5794c14351b4e2f256c6fde4223843ad96d1b083b04",
							"type": "string"
						}
					]
				},
				"method": "GET",
				"header": [
					{
						"key": "Consent-ID",
						"value": "VALID_CONSENT_ID",
						"type": "text"
					},
					{
						"key": "X-Request-ID",
						"value": "{{$guid}}",
						"type": "text"
					},
					{
						"key": "PSU-IP-Address",
						"value": "{{$randomIP}}",
						"type": "text"
					}
				],
				"url": {
					"raw": "https://xs2a-sandbox.bankvanbreda.be/berlingroup/v1/accounts",
					"protocol": "https",
					"host": [
						"xs2a-sandbox",
						"bankvanbreda",
						"be"
					],
					"path": [
						"berlingroup",
						"v1",
						"accounts"
					]
				}
			},
			"response": []
		},
		{
			"name": "/transactions",
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "cd3fc7f7ccd54a3db48e04dd00ed170bd85fb95a8d304589bdcce5794c14351b4e2f256c6fde4223843ad96d1b083b04",
							"type": "string"
						}
					]
				},
				"method": "GET",
				"header": [
					{
						"key": "Consent-ID",
						"value": "VALID_CONSENT_ID",
						"type": "text"
					},
					{
						"key": "X-Request-ID",
						"value": "{{$guid}}",
						"type": "text"
					},
					{
						"key": "PSU-IP-Address",
						"value": "{{$randomIP}}",
						"type": "text"
					}
				],
				"url": {
					"raw": "https://xs2a-sandbox.bankvanbreda.be/berlingroup/v1/accounts/ACCOUNT_ID/transactions?dateFrom=2019-02-01&bookingStatus=both",
					"protocol": "https",
					"host": [
						"xs2a-sandbox",
						"bankvanbreda",
						"be"
					],
					"path": [
						"berlingroup",
						"v1",
						"accounts",
						"ACCOUNT_ID",
						"transactions"
					],
					"query": [
						{
							"key": "dateFrom",
							"value": "2019-02-01"
						},
						{
							"key": "bookingStatus",
							"value": "both"
						}
					]
				}
			},
			"response": []
		},
		{
			"name": "/balance",
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "cd3fc7f7ccd54a3db48e04dd00ed170bd85fb95a8d304589bdcce5794c14351b4e2f256c6fde4223843ad96d1b083b04",
							"type": "string"
						}
					]
				},
				"method": "GET",
				"header": [
					{
						"key": "Consent-ID",
						"value": "VALID_CONSENT_ID",
						"type": "text"
					},
					{
						"key": "X-Request-ID",
						"value": "{{$guid}}",
						"type": "text"
					},
					{
						"key": "PSU-IP-Address",
						"value": "{{$randomIP}}",
						"type": "text"
					}
				],
				"url": {
					"raw": "https://xs2a-sandbox.bankvanbreda.be/berlingroup/v1/accounts/ACCOUNT_ID/balances",
					"protocol": "https",
					"host": [
						"xs2a-sandbox",
						"bankvanbreda",
						"be"
					],
					"path": [
						"berlingroup",
						"v1",
						"accounts",
						"ACCOUNT_ID",
						"balances"
					]
				}
			},
			"response": []
		},
		{
			"name": "/consents",
			"request": {
				"method": "DELETE",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json",
						"type": "text"
					},
					{
						"key": "TPP-Redirect-URI",
						"value": "yolt.com",
						"type": "text"
					},
					{
						"key": "X-REquest-ID",
						"value": "{{$guid}}",
						"type": "text"
					},
					{
						"key": "PSU-IP-Address",
						"value": "{{$randomIP}}",
						"type": "text"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\r\n    \"access\": {\r\n      \"allPsd2\": \"allAccounts\"\r\n   },\r\n    \"recurringIndicator\": true,\r\n    \"frequencyPerDay\": 4,\r\n    \"combinedServiceIndicator\": false,\r\n    \"validUntil\": \"2030-12-12\"\r\n}"
				},
				"url": {
					"raw": "https://xs2a-sandbox.bankvanbreda.be/berlingroup/v1/consents",
					"protocol": "https",
					"host": [
						"xs2a-sandbox",
						"bankvanbreda",
						"be"
					],
					"path": [
						"berlingroup",
						"v1",
						"consents"
					]
				}
			},
			"response": []
		}
	]
}